visIgraphLayout(layout = "layout_with_kk")
colnames(edges_lc)<-c('source', 'target', "color", "dashes")
write.csv(x = edges_lc, file = 'C:/Users/marce/Desktop/edges_lc.csv', col.names = FALSE)
colnames(edges_lc)<-c('source', 'target', "color", "dashes")
write.csv(x = edges_lc, file = 'C:/Users/marce/Desktop/edges_lc.csv', row.names = FALSE)
write.csv(x = nodes_lc,file = 'C:/Users/marce/Desktop/nodes_lc.csv', row.names = FALSE)
###############
hc_pa <- vegan::decostand(hc_parsed, method = "pa")
cooccur.otus_hc <- cooccur(hc_pa,
type = "spp_site",
spp_names = TRUE)
summary(cooccur.otus_hc)
plot(cooccur.otus_hc)
co_hc <- print(cooccur(hc_pa, type = "spp_site", spp_names = TRUE))
# Create a data frame of the nodes in the network.
nodes_hc <- data.frame(id = 1:nrow(hc_pa),
label = rownames(hc_pa),
color = "#606482",
shadow = TRUE)
# Create an edges dataframe from the significant pairwise co-occurrences.
edges_hc <- data.frame(from = co_hc$sp1, to = co_lc$sp2,
color = ifelse(co_hc$p_lt <= 0.05,
"#B0B2C1", "#3C3F51"),
dashes = ifelse(co_hc$p_lt <= 0.05, TRUE, FALSE))
# Create an edges dataframe from the significant pairwise co-occurrences.
edges_hc <- data.frame(from = co_hc$sp1, to = co_hc$sp2,
color = ifelse(co_hc$p_lt <= 0.05,
"#B0B2C1", "#3C3F51"),
dashes = ifelse(co_hc$p_lt <= 0.05, TRUE, FALSE))
# Plotting network
library(visNetwork)
visNetwork(nodes = nodes_hc, edges = edges_hc) %>%
visIgraphLayout(layout = "layout_with_kk")
colnames(edges_hc)<-c('source', 'target', "color", "dashes")
write.csv(x = edges_hc, file = 'C:/Users/marce/Desktop/edges_hc.csv', col.names = FALSE)
colnames(edges_hc)<-c('source', 'target', "color", "dashes")
write.csv(x = edges_hc, file = 'C:/Users/marce/Desktop/edges_hc.csv', row.names = FALSE)
write.csv(x = nodes_hc,file = 'C:/Users/marce/Desktop/nodes_hc.csv', row.names = FALSE)
source("C:/Users/marce/Documents/Repos/microbiome-help/microbiome_helper_functions.R")
biogas <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/alta_diversidad.xlsx", sheet = "biogas", range = "A68:O129")
colnames(biogas) <- c("tiempo", "fecha", "semana", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12")
head(biogas)
biogas <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/alta_diversidad.xlsx", sheet = "biogas", range = "A68:O129")
library("readxl")
library("tidyr")
library("ggplot2")
library("ggthemes")
library("dplyr")
source("C:/Users/marce/Documents/Repos/microbiome-help/microbiome_helper_functions.R")
biogas <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/alta_diversidad.xlsx", sheet = "biogas", range = "A68:O129")
colnames(biogas) <- c("tiempo", "fecha", "semana", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12")
head(biogas)
replicate_data_biogas <- biogas[,4:15]
replicate_data_biogas
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
source("C:/Users/marce/Documents/Repos/microbiome-help/microbiome_helper_functions.R")
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
means2 <- sapply(replicate_stability, mean)
means2
plot(means2)
replicate_stability
source("C:/Users/marce/Documents/Repos/microbiome-help/microbiome_helper_functions.R")
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
replicate_stability
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
source("C:/Users/marce/Documents/Repos/microbiome-help/microbiome_helper_functions.R")
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
View(replicate_stability)
replicate_stability
library("readxl")
library("tidyr")
library("ggplot2")
library("ggthemes")
library("dplyr")
source("C:/Users/marce/Documents/Repos/microbiome-help/microbiome_helper_functions.R")
biogas <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/alta_diversidad.xlsx", sheet = "biogas", range = "A68:O129")
colnames(biogas) <- c("tiempo", "fecha", "semana", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12")
head(biogas)
replicate_data_biogas <- biogas[,4:15]
replicate_data_biogas
means <- sapply(replicate_data_biogas, mean)
std_dev <- sapply(replicate_data_biogas, sd)
stability <- 1-(std_dev/means)
stability
mean(stability)
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
replicate_stability
View(biogas)
View(biogas)
replicate_data_biogas
replicate_data_biogas[61]
replicate_data_biogas[61,]
mean(replicate_data_biogas[61,])
mean(replicate_data_biogas[61,0:12])
mean(replicate_data_biogas[61,])
replicate_data_biogas[61,]
t(replicate_data_biogas[61,])
mean(t(replicate_data_biogas[61,]))
biogas_invasion <- read_xlsx(path = "C:/Users/marce/OneDrive/DiversidadH2/0_datos/alta_diversidad.xlsx", sheet = "biogas_invasion", range = "A13:N22")
biogas_invasion <- select(biogas_invasion, "tiempo", ends_with("i"))[2:9,]
head(biogas_invasion)
biogas_invasion <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/alta_diversidad.xlsx", sheet = "biogas_invasion", range = "A13:N22")
biogas_invasion <- select(biogas_invasion, "tiempo", ends_with("i"))[2:9,]
head(biogas_invasion)
biogas_invasion[2:7]
biogas_invasion[1,2:7]
mean(t(biogas_invasion[1,2:7]))
mean(t(biogas_invasion[8,2:7]))
# Metabolites
####################################################################################
# Biogas
####################################################################################
biogas <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/baja_diversidad.xlsx", sheet = "biogas", range = "A36:O64")
colnames(biogas) <- c("tiempo", "fecha", "semana", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12")
head(biogas)
replicate_data_biogas <- biogas[,4:15]
replicate_data_biogas
replicate_data_biogas[29,]
replicate_data_biogas[28,]
mean(t(replicate_data_biogas[28,]))
biogas_invasion <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/baja_diversidad.xlsx", sheet = "biogas_invasion", range = "A13:N22")
biogas_invasion <- select(biogas_invasion, "tiempo", ends_with("i"))[2:9,]
head(biogas_invasion)
biogas_invasion[2;7]
biogas_invasion[2:7]
mean(t(biogas_invasion[1,2:7]))
mean(t(biogas_invasion[8,2:7]))
biogas_invasion <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/alta_diversidad.xlsx", sheet = "biogas_invasion", range = "A13:N22")
biogas_invasion <- select(biogas_invasion, "tiempo", ends_with("i"))[2:9,]
head(biogas_invasion)
replicate_data_biogas <- biogas[,2:]
replicate_data_biogas <- biogas[,2:7]
replicate_data_biogas
replicate_data_biogas <- biogas_invasion[,2:7]
replicate_data_biogas
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
replicate_stability
means2 <- sapply(replicate_stability, mean)
means2
replicate_data_biogas <- biogas[,4:15]
replicate_data_biogas
means <- sapply(replicate_data_biogas, mean)
std_dev <- sapply(replicate_data_biogas, sd)
stability <- 1-(std_dev/means)
stability
mean(stability)
replicate_data_biogas[0:0,1:ncol(replicate_data_biogas)]
data.frame(means, std_dev, stability, row.names = colnames(replicate_data_biogas))
data.frame(means, std_dev, stability, row.names = colnames(replicate_data_biogas))
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
replicate_stability
means2 <- sapply(replicate_stability, mean)
means2
plot(means_si_3days)
means_si_3days <- sapply(replicate_stability, mean)
means_si_3days
plot(means_si_3days)
source("C:/Users/marce/Documents/Repos/microbiome-help/microbiome_helper_functions.R")
biogas <- read_xlsx(path = "C:/Users/marce/OneDrive/Sci/DiversidadH2/Análisis/0_datos/alta_diversidad.xlsx", sheet = "biogas", range = "A68:O129")
colnames(biogas) <- c("tiempo", "fecha", "semana", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12")
head(biogas)
biogas_by_cases <- gather(biogas, "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12",
key = "replicate", value = "biogas_ml")
head(biogas_by_cases)
# Subsetting only biogas production data
replicate_data_biogas <- biogas[,4:15]
replicate_data_biogas
# Calculating HPSI for each replicate
means <- sapply(replicate_data_biogas, mean)
std_dev <- sapply(replicate_data_biogas, sd)
stability <- 1-(std_dev/means)
stability
data.frame(means, std_dev, stability, row.names = colnames(replicate_data_biogas))
# Stability of the whole treatment
mean(stability)
replicate_stability <- stability_per_period(replicate_data = replicate_data_biogas, period_length = 3)
replicate_stability
# Calculating the mean 3-consecutive-days stability for each replicate.
means_si_3days <- sapply(replicate_stability, mean)
means_si_3days
plot(means_si_3days)
library(readr)
Metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv")
View(Metadata)
library(readr)
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv")
View(metadata)
t(metadata)
metadata <- t(metadata)
View(metadata)
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv", col_names = FALSE)
metadata <- t(metadata)
View(metadata)
colnames(metadata) <- metadata[1]
colnames(metadata) <- metadata[1,]
View(metadata)
metadata <- metadata[2:nrow(metadata)]
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv", col_names = FALSE)
metadata <- t(metadata)
colnames(metadata) <- metadata[1,]
metadata <- metadata[2:nrow(metadata),]
View(metadata)
metadata <- metadata[2:nrow(metadata)-10,]
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv", col_names = FALSE)
metadata <- t(metadata)
colnames(metadata) <- metadata[1,]
metadata <- metadata[2:(nrow(metadata)-10),]
View(metadata)
rownames(metadata) <- metadata[,1]
View(metadata)
metadata[1] <- NULL
View(metadata)
metadata[,-1]
metadata <- metadata[,-1]
View(metadata)
lirbary(dplyr)
library(dplyr)
filter(metadata, ATTRIBUTE_Depth_Range == "0-30")
metadata <- tibble(metadata[,-1])
filter(metadata, ATTRIBUTE_Depth_Range == "0-30")
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv", col_names = FALSE)
metadata <- t(metadata)
colnames(metadata) <- metadata[1,]
metadata <- metadata[2:(nrow(metadata)-10),]
rownames(metadata) <- metadata[,1]
metadata <- tibble(metadata[,-1])
View(metadata)
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv", col_names = FALSE)
metadata <- t(metadata)
colnames(metadata) <- metadata[1,]
metadata <- metadata[2:(nrow(metadata)-10),]
rownames(metadata) <- metadata[,1]
metadata <- data.frame(metadata[,-1])
View(metadata)
filter(metadata, ATTRIBUTE_Depth_Range == "0-30")
metadata_surface <- filter(metadata, ATTRIBUTE_Depth_Range == "0-30")
arrange(metadata_surface, ATTRIBUTE_Location)
metadata_surface <- filter(metadata, ATTRIBUTE_Depth <= 30)
View(metadata_surface)
arrange(metadata_surface, ATTRIBUTE_Location)
arrange(metadata_surface, ATTRIBUTE_Location)
View(metadata_surface)
metadata_surface <- filter(metadata, ATTRIBUTE_Depth == "0-30")
arrange(metadata_surface, ATTRIBUTE_Location)
metadata_surface <- filter(metadata, ATTRIBUTE_Depth_Range == "0-30")
arrange(metadata_surface, ATTRIBUTE_Location)
View(metadata_surface)
metadata_surface <- metadata %>%
filter(ATTRIBUTE_Depth_Range == "0-30")
View(metadata_surface)
getDataFromTable <- function(data_path){
dataTable <- readr::read_csv(data_path, col_names = FALSE)
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
dataTable <- dataTable[2:(nrow(dataTable)-10),]
rownames(dataTable) <- dataTable[,1]
return(data.fram(dataTable[,-1]))
}
getDataFromTable("C:/Users/marce/Desktop/Metadata.csv")
getDataFromTable <- function(data_path){
dataTable <- readr::read_csv(data_path, col_names = FALSE)
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
dataTable <- dataTable[2:(nrow(dataTable)-10),]
rownames(dataTable) <- dataTable[,1]
return(data.frame(dataTable[,-1]))
}
getDataFromTable("C:/Users/marce/Desktop/Metadata.csv")
meta <- getDataFromTable("C:/Users/marce/Desktop/Metadata.csv")
View(meta)
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv", col_names = FALSE)
metadata <- t(metadata)
colnames(metadata) <- metadata[1,]
View(metadata)
View(metadata)
getDataFromTable <- function(data_path, num_vars_toDrop = 0, extra_vars = 0){
dataTable <- readr::read_csv(data_path, col_names = FALSE)
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
dataTable <- dataTable[(2+extra_vars):(nrow(dataTable)-num_vars_toDrop),]
rownames(dataTable) <- dataTable[,1]
return(data.frame(dataTable[,-1]))
}
meta <- getDataFromTable("C:/Users/marce/Desktop/Metadata.csv", num_vars_toDrop = 10, extra_vars = 0)
View(meta)
meta <- getDataFromTable("C:/Users/marce/Desktop/Metadata.csv", num_vars_toDrop = 10, extra_vars = 1)
View(meta)
getDataFromTable <- function(data_path, num_vars_toDrop = 0, extra_vars = 0){
dataTable <- readr::read_csv(data_path, col_names = FALSE)
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
dataTable <- dataTable[(2+extra_vars):(nrow(dataTable)-num_vars_toDrop),]
rownames(dataTable) <- dataTable[,1]
return(data.frame(dataTable[,-1]))
}
meta <- getDataFromTable("C:/Users/marce/Desktop/Metadata.csv", num_vars_toDrop = 10, extra_vars = 1)
View(meta)
getDataFromTable <- function(data_path, num_vars_toDrop = 0, extra_vars = 0){
dataTable <- readr::read_csv(data_path, col_names = FALSE)
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
dataTable <- dataTable[(2+extra_vars):(nrow(dataTable)-num_vars_toDrop),]
rownames(dataTable) <- dataTable[,1]
return(data.frame(dataTable[,-1]))
}
meta <- getDataFromTable("C:/Users/marce/Desktop/Metadata.csv", num_vars_toDrop = 10, extra_vars = 1)
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv", col_names = FALSE)
metadata <- t(metadata)
colnames(metadata) <- metadata[1,]
View(metadata)
metadata <- metadata[2:(nrow(metadata)-10),]
View(metadata)
View(metadata)
metadata <- read_csv("C:/Users/marce/Desktop/Metadata.csv", col_names = FALSE)
metadata <- t(metadata)
colnames(metadata) <- metadata[1,]
View(metadata)
metadata <- metadata[3:(nrow(metadata)-10),]
View(metadata)
View(metadata)
meta <- getDataFromTable("C:/Users/marce/Desktop/Metadata.csv", vars_toDrop_beg = 0, vars_toDrop_end = 10)
getDataFromTable <- function(data_path, vars_toDrop_beg = 0, vars_toDrop_end = 0){
dataTable <- readr::read_csv(data_path, col_names = FALSE)
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
dataTable <- dataTable[(2+extra_vars):(nrow(dataTable)-num_vars_toDrop),]
rownames(dataTable) <- dataTable[,1]
return(data.frame(dataTable[,-1]))
}
meta <- getDataFromTable("C:/Users/marce/Desktop/Metadata.csv", vars_toDrop_beg = 0, vars_toDrop_end = 10)
getDataFromTable <- function(data_path, vars_toDrop_beg = 0, vars_toDrop_end = 0){
dataTable <- readr::read_csv(data_path, col_names = FALSE)
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
dataTable <- dataTable[(2+vars_toDrop_beg):(nrow(dataTable)-vars_toDrop_end),]
rownames(dataTable) <- dataTable[,1]
return(data.frame(dataTable[,-1]))
}
meta <- getDataFromTable("C:/Users/marce/Desktop/Metadata.csv", vars_toDrop_beg = 0, vars_toDrop_end = 10)
View(meta)
for (colX in colnames(asv_16s)) {
print(colX)
}
library(dplyr)
setwd("C:/Users/marce/Documents/Repos/coding_task/data")
getDataFromTable <- function(data_path, vars_toDrop_beg = 0, vars_toDrop_end = 0){
dataTable <- readr::read_csv(data_path, col_names = FALSE, )
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
# Dropping rows that are not used, including the column where colnames where
dataTable <- dataTable[(2+vars_toDrop_beg):(nrow(dataTable)-vars_toDrop_end),]
dataTable <- data.frame(dataTable, row.names = NULL)
# Return df with correct rownames and removing column where rownames where
return(tibble::column_to_rownames(dataTable, colnames(dataTable)[1]))
}
# Reading and setting up metadata df
metadata <- getDataFromTable("Metadata.csv", vars_toDrop_beg = 0, vars_toDrop_end = 10)
metadata <-transform(metadata, ATTRIBUTE_Depth = as.numeric(ATTRIBUTE_Depth))
metadata_surface <- metadata %>%
transform(ATTRIBUTE_Depth = as.numeric(ATTRIBUTE_Depth)) %>%
filter(ATTRIBUTE_Depth_Range == "0-30") %>%
arrange(ATTRIBUTE_Location, ATTRIBUTE_Depth)
# Extracting list of samples in order of cycle and day.
samples_in_order <- rownames(metadata_surface)
samples_in_order
# Reading all data
asv_16s <- getDataFromTable("ASV_16S.csv", vars_toDrop_beg = 0, vars_toDrop_end = 8)
View(asv_16s)
for (colX in colnames(asv_16s[,1:3])) {
print(colX)
}
View(asv_16s)
for (colX in colnames(asv_16s[,1:3])) {
print(colX)
transform(asv_16s, colX = as.numeric(colX))
}
View(asv_16s)
View(asv_16s)
# Reading all data
asv_16s <- getDataFromTable("ASV_16S.csv", vars_toDrop_beg = 0, vars_toDrop_end = 8)
for (colX in colnames(asv_16s[,1:3])) {
print(colX)
asv_16s <- transform(asv_16s, colX = as.numeric(colX))
}
View(asv_16s)
# Reading all data
asv_16s <- getDataFromTable("ASV_16S.csv", vars_toDrop_beg = 0, vars_toDrop_end = 8)
# Reading all data
asv_16s <- getDataFromTable("ASV_16S.csv", vars_toDrop_beg = 0, vars_toDrop_end = 8)
for (colX in colnames(asv_16s[,1:3])) {
print(colX)
asv_16s <- transform(asv_16s, asv_16s[colX] = as.numeric(asv_16s[colX]))
}
asv_16s["a404bf4d32831f2133794e5fe5d0a73e"]
asv_16s["a404bf4d32831f2133794e5fe5d0a73e"] <- as.numeric(asv_16s["a404bf4d32831f2133794e5fe5d0a73e"])
asv_16s["a404bf4d32831f2133794e5fe5d0a73e"] = as.numeric(asv_16s["a404bf4d32831f2133794e5fe5d0a73e"])
for (colX in colnames(asv_16s[,1:3])) {
print(colX)
asv_16s <- transform(asv_16s, get(colX) = as.numeric(get(colX)))
}
asv3 <- asv_16s[,1:3]
View(asv3)
for (colX in colnames(asv3)) {
print(colX)
asv_3_2 <- transform(asv3, get(colX) = as.numeric(get(colX)))
}
for (colX in colnames(asv3)) {
print(colX)
asv_3_2 <- transform(asv3, get(colX)=as.numeric(get(colX)))
}
for (colX in colnames(asv3)) {
print(colX)
#asv_3_2 <- transform(asv3, get(colX)=as.numeric(get(colX)))
}
for (colX in colnames(asv3)) {
print(colX)
asv_3 <- transform(asv3, get(colX)=as.numeric(get(colX)))
}
for (colX in colnames(asv3)) {
print(colX)
asv_3 <- transform(asv3, eval(parse(text = colX))  = as.numeric(  eval(parse(text = "a")) ))
}
for (colX in colnames(asv3)) {
print(colX)
asv_3 <- transform(asv3, eval(parse(text = colX)) = as.numeric(eval( parse(text = colX))))
}
eval(parse(text = "a404bf4d32831f2133794e5fe5d0a73e")) = as.numeric(eval( parse(text = "a404bf4d32831f2133794e5fe5d0a73e")))
asv3 <- asv_16s[,1:3]
View(asv3)
for (colX in colnames(asv3)) {
print(colX)
asv_3 <- transform(asv3, eval(parse(text = colX)) = as.numeric(eval(parse(text = colX) ) ) )
}
sapply(asv3, mode)
sapply(asv3, class)
as.numeric(asv3)
as.numeric(asv3$a404bf4d32831f2133794e5fe5d0a73e)
asv3$a404bf4d32831f2133794e5fe5d0a73e <- as.numeric(asv3$a404bf4d32831f2133794e5fe5d0a73e)
View(asv3)
asv_16s$eval(parse(text = "a404bf4d32831f2133794e5fe5d0a73e")) <- as.numeric(asv3$eval(parse(text = "a404bf4d32831f2133794e5fe5d0a73e")))
asv3$eval(parse(text = "a404bf4d32831f2133794e5fe5d0a73e")) <- as.numeric(asv3$eval(parse(text = "a404bf4d32831f2133794e5fe5d0a73e")))
asv3$eval(parse(text = "a404bf4d32831f2133794e5fe5d0a73e"))
object <- eval(parse(text = "a404bf4d32831f2133794e5fe5d0a73e"))
objecto <- eval(parse(text = "a404bf4d32831f2133794e5fe5d0a73e"))
objecto <- parse(text = "a404bf4d32831f2133794e5fe5d0a73e")
objecto
asv3$objecto
asv3["a404bf4d32831f2133794e5fe5d0a73e"]
asv3["a404bf4d32831f2133794e5fe5d0a73e"] <- "e"
View(asv3)
asv3 <- asv_16s[,1:3]
asv3["a404bf4d32831f2133794e5fe5d0a73e"] <- as.numeric(asv3["a404bf4d32831f2133794e5fe5d0a73e"])
asv3["a404bf4d32831f2133794e5fe5d0a73e"] <- as.numeric(asv3["a404bf4d32831f2133794e5fe5d0a73e"][,1])
View(asv3)
for (colX in colnames(asv3)) {
print(colX)
asv3[colX] <- as.numeric(asv3[colX][,1])
}
View(asv3)
View(asv3)
library(dplyr)
setwd("C:/Users/marce/Documents/Repos/coding_task/data")
getDataFromTable <- function(data_path, vars_toDrop_beg = 0, vars_toDrop_end = 0){
dataTable <- readr::read_csv(data_path, col_names = FALSE, )
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
# Dropping rows that are not used, including the column where colnames where
dataTable <- dataTable[(2+vars_toDrop_beg):(nrow(dataTable)-vars_toDrop_end),]
dataTable <- data.frame(dataTable, row.names = NULL)
# Return df with correct rownames and removing column where rownames where
return(tibble::column_to_rownames(dataTable, colnames(dataTable)[1]))
}
# Reading all data
asv_16s <- getDataFromTable("ASV_16S.csv", vars_toDrop_beg = 0, vars_toDrop_end = 8)
for (colX in colnames(asv_16s)) {
print(colX)
asv_16s[colX] <- as.numeric(asv_16s[colX][,1])
}
View(asv_16s)
# Reading all data
asv_16s <- getDataFromTable("ASV_16S.csv", vars_toDrop_beg = 0, vars_toDrop_end = 8)
# Reading all data
asv_16s <- getDataFromTable("ASV_16S.csv", vars_toDrop_beg = 0, vars_toDrop_end = 8)
getDataFromTable <- function(data_path, vars_toDrop_beg = 0, vars_toDrop_end = 0){
dataTable <- readr::read_csv(data_path, col_names = FALSE, )
dataTable <- t(dataTable)
colnames(dataTable) <- dataTable[1,]
# Dropping rows that are not used, including the column where colnames where
dataTable <- dataTable[(2+vars_toDrop_beg):(nrow(dataTable)-vars_toDrop_end),]
dataTable <- data.frame(dataTable, row.names = NULL)
# Return df with correct rownames and removing column where rownames where
return(tibble::column_to_rownames(dataTable, colnames(dataTable)[1]))
}
# Reading all data
asv_16s <- getDataFromTable("ASV_16S.csv", vars_toDrop_beg = 0, vars_toDrop_end = 8)
asv_16s2 <- asv_16s
for (colX in colnames(asv_16s)) {
print(colX)
asv_16s[colX] <- as.numeric(asv_16s[colX][,1])
}
View(asv_16s2)
asv_16s2[,6500:6503]
asv_16s[,6500:6503]
asv_16s["dcbe6fb6532984411cfa7ad1462280da"]
asv_16s["dcbe6fb6532984411cfa7ad1462280da"]
asv_16s2["dcbe6fb6532984411cfa7ad1462280da"]
asv_16s2["dcbe6fb6532984411cfa7ad1462280da"]
asv_16s2[,6500:6503]
asv_16s[,6500:6503]
readr::read_csv("ASV_16S.csv", col_names = FALSE, )
test1 <- readr::read_csv("ASV_16S.csv", col_names = FALSE, )
test1[6500:6503, ]
